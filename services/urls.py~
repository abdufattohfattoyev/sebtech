# services/urls.py
from django.urls import path
from . import views

app_name = 'services'

urlpatterns = [
    # Dashboard
    path('', views.services_dashboard, name='dashboard'),

    # Masters
    path('masters/', views.master_list, name='master_list'),
    path('masters/create/', views.master_create, name='master_create'),
    path('masters/<int:pk>/', views.master_detail, name='master_detail'),
    path('masters/<int:pk>/edit/', views.master_edit, name='master_edit'),
    path('masters/<int:pk>/delete/', views.master_delete, name='master_delete'),

    # Services
    path('services/', views.service_list, name='service_list'),
    path('services/create/', views.service_create, name='service_create'),
    path('services/create-ajax/', views.service_create_ajax, name='service_create_ajax'),  # Yangi qo'shildi
    path('services/<int:pk>/', views.service_detail, name='service_detail'),
    path('services/<int:pk>/edit/', views.service_edit, name='service_edit'),
    path('services/<int:pk>/update-status/', views.service_update_status, name='service_update_status'),

    # Payments
    path('services/<int:service_id>/payment/create/', views.payment_create, name='payment_create'),
    path('services/<int:service_id>/payment/<int:payment_id>/edit/', views.payment_edit, name='payment_edit'),
    path('services/<int:service_id>/payment/<int:payment_id>/delete/', views.payment_delete, name='payment_delete'),

    # AJAX
    path('api/phones/', views.get_available_phones, name='get_available_phones'),
    path('api/search-phone/', views.search_phone_api, name='search_phone_api'),
]